*{margin:0;padding:0;box-sizing:border-box}:root{--color-primary-50: #eff6ff;--color-primary-100: #dbeafe;--color-primary-200: #bfdbfe;--color-primary-300: #93c5fd;--color-primary-400: #60a5fa;--color-primary-500: #3b82f6;--color-primary-600: #2563eb;--color-primary-700: #1d4ed8;--color-primary-800: #1e40af;--color-primary-900: #1e3a8a;--color-secondary-500: #8b5cf6;--color-secondary-600: #7c3aed;--color-secondary-700: #6d28d9;--color-success-500: #10b981;--color-success-600: #059669;--color-accent-500: #f43f5e;--color-accent-600: #e11d48;--color-gray-50: #f9fafb;--color-gray-100: #f3f4f6;--color-gray-200: #e5e7eb;--color-gray-300: #d1d5db;--color-gray-400: #9ca3af;--color-gray-500: #6b7280;--color-gray-600: #4b5563;--color-gray-700: #374151;--color-gray-800: #1f2937;--color-gray-900: #111827;--color-bg-primary: #ffffff;--color-bg-secondary: #f9fafb;--color-bg-tertiary: #f3f4f6;--color-text-primary: #111827;--color-text-secondary: #6b7280;--color-text-tertiary: #9ca3af;--color-border: #e5e7eb;--color-border-light: #f3f4f6;--shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, .25);--radius-sm: .375rem;--radius-md: .5rem;--radius-lg: .75rem;--radius-xl: 1rem;--radius-2xl: 1.5rem;--radius-full: 9999px;--space-1: .25rem;--space-2: .5rem;--space-3: .75rem;--space-4: 1rem;--space-5: 1.25rem;--space-6: 1.5rem;--space-8: 2rem;--space-10: 2.5rem;--space-12: 3rem;--space-16: 4rem;--font-sans: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;--font-weight-normal: 400;--font-weight-medium: 500;--font-weight-semibold: 600;--font-weight-bold: 700;--font-weight-extrabold: 800;--transition-fast: .15s cubic-bezier(.4, 0, .2, 1);--transition-base: .2s cubic-bezier(.4, 0, .2, 1);--transition-slow: .3s cubic-bezier(.4, 0, .2, 1)}html{font-size:16px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{font-family:var(--font-sans);background-color:var(--color-bg-secondary);color:var(--color-text-primary);line-height:1.6;overflow-x:hidden}#app{display:flex;flex-direction:column;height:100vh;background:var(--color-bg-secondary)}.app-header{background:linear-gradient(135deg,#1e40af,#1e3a8a);border-bottom:1px solid rgba(255,255,255,.1);box-shadow:var(--shadow-lg);position:relative;z-index:50}.app-header:after{content:"";position:absolute;bottom:-1px;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3) 50%,transparent)}.header-container{max-width:1920px;margin:0 auto;padding:var(--space-4) var(--space-8);display:flex;justify-content:space-between;align-items:center}.header-left{display:flex;align-items:center}.app-logo{display:flex;align-items:center;gap:var(--space-4)}.logo-icon{width:40px;height:40px;color:#fff;filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}.app-title-group{display:flex;flex-direction:column;gap:var(--space-1)}.app-title{font-size:1.5rem;font-weight:var(--font-weight-bold);color:#fff;letter-spacing:-.025em;line-height:1.2}.app-badge{display:inline-flex;align-items:center;padding:var(--space-1) var(--space-3);background:#fff3;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-radius:var(--radius-full);font-size:.75rem;font-weight:var(--font-weight-semibold);color:#fff;text-transform:uppercase;letter-spacing:.05em;width:fit-content}.header-right{display:flex;align-items:center;gap:var(--space-3)}.btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--space-2);padding:var(--space-3) var(--space-5);border:none;border-radius:var(--radius-md);font-size:.875rem;font-weight:var(--font-weight-medium);font-family:var(--font-sans);cursor:pointer;transition:all var(--transition-base);white-space:nowrap;position:relative;overflow:hidden}.btn:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#ffffff4d;transform:translate(-50%,-50%);transition:width .6s,height .6s}.btn:active:before{width:300px;height:300px}.btn-primary{background:linear-gradient(135deg,#fff,#f3f4f6);color:var(--color-primary-700);box-shadow:var(--shadow-sm)}.btn-primary:hover{background:#fff;box-shadow:var(--shadow-md);transform:translateY(-1px)}.btn-primary:active{transform:translateY(0)}.btn-secondary{background:#ffffff1a;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);color:#fff;border:1px solid rgba(255,255,255,.2)}.btn-secondary:hover{background:#fff3;border-color:#ffffff4d}.btn-icon-only{padding:var(--space-2);width:36px;height:36px}.btn-icon-only svg{width:20px;height:20px}.btn-icon-svg{width:16px;height:16px}.btn:disabled{opacity:.5;cursor:not-allowed}.btn-group{display:flex;gap:var(--space-1);background:#ffffff0d;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);padding:var(--space-1);border-radius:var(--radius-md);border:1px solid rgba(255,255,255,.1)}.toolbar{background:var(--color-bg-primary);border-bottom:1px solid var(--color-border);box-shadow:var(--shadow-sm);position:relative;z-index:40}.toolbar-container{max-width:1920px;margin:0 auto;padding:var(--space-4) var(--space-8);display:flex;justify-content:space-between;align-items:center;gap:var(--space-6)}.toolbar-left,.toolbar-right{display:flex;align-items:center;gap:var(--space-4)}.toolbar-divider{width:1px;height:24px;background:var(--color-border)}.search-wrapper{position:relative;width:320px}.search-icon{position:absolute;left:var(--space-3);top:50%;transform:translateY(-50%);width:20px;height:20px;color:var(--color-text-tertiary);pointer-events:none}.search-input{width:100%;padding:var(--space-3) var(--space-3) var(--space-3) var(--space-10);border:1px solid var(--color-border);border-radius:var(--radius-md);font-size:.875rem;font-family:var(--font-sans);background:var(--color-bg-primary);color:var(--color-text-primary);transition:all var(--transition-base)}.search-input:focus{outline:none;border-color:var(--color-primary-500);box-shadow:0 0 0 3px #3b82f61a}.search-input::placeholder{color:var(--color-text-tertiary)}.select-group{display:flex;flex-direction:column;gap:var(--space-1)}.select-label{font-size:.75rem;font-weight:var(--font-weight-medium);color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.05em}.select-input{padding:var(--space-3) var(--space-10) var(--space-3) var(--space-3);border:1px solid var(--color-border);border-radius:var(--radius-md);font-size:.875rem;font-weight:var(--font-weight-medium);font-family:var(--font-sans);background:var(--color-bg-primary);color:var(--color-text-primary);cursor:pointer;transition:all var(--transition-base);-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E");background-position:right var(--space-3) center;background-repeat:no-repeat;background-size:20px}.select-input:hover{border-color:var(--color-gray-400)}.select-input:focus{outline:none;border-color:var(--color-primary-500);box-shadow:0 0 0 3px #3b82f61a}.toolbar .btn-secondary{background:var(--color-bg-primary);color:var(--color-text-primary);border:1px solid var(--color-border)}.toolbar .btn-secondary:hover{background:var(--color-bg-secondary);border-color:var(--color-gray-400)}.toolbar .btn-icon-only{background:var(--color-bg-primary);color:var(--color-text-secondary);border:1px solid var(--color-border)}.toolbar .btn-icon-only:hover{background:var(--color-bg-secondary);color:var(--color-text-primary)}.main-content{display:flex;flex:1;overflow:hidden;max-width:1920px;margin:0 auto;width:100%}.sidebar{width:320px;background:var(--color-bg-primary);border-right:1px solid var(--color-border);overflow-y:auto;overflow-x:hidden}.sidebar::-webkit-scrollbar{width:6px}.sidebar::-webkit-scrollbar-track{background:var(--color-bg-secondary)}.sidebar::-webkit-scrollbar-thumb{background:var(--color-gray-300);border-radius:var(--radius-full)}.sidebar::-webkit-scrollbar-thumb:hover{background:var(--color-gray-400)}.sidebar-header{padding:var(--space-6) var(--space-6) var(--space-4);border-bottom:1px solid var(--color-border)}.sidebar-title{font-size:1.125rem;font-weight:var(--font-weight-semibold);color:var(--color-text-primary);letter-spacing:-.025em}.stats-grid{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-4);padding:var(--space-6)}.stat-card{background:linear-gradient(135deg,var(--gradient-from) 0%,var(--gradient-to) 100%);padding:var(--space-4);border-radius:var(--radius-lg);display:flex;align-items:center;gap:var(--space-3);box-shadow:var(--shadow-sm);transition:all var(--transition-base);position:relative;overflow:hidden}.stat-card:before{content:"";position:absolute;top:-50%;right:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);opacity:0;transition:opacity var(--transition-slow)}.stat-card:hover:before{opacity:1}.stat-card:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}.stat-card-primary{--gradient-from: #3b82f6;--gradient-to: #2563eb}.stat-card-secondary{--gradient-from: #8b5cf6;--gradient-to: #7c3aed}.stat-card-success{--gradient-from: #10b981;--gradient-to: #059669}.stat-card-accent{--gradient-from: #f43f5e;--gradient-to: #e11d48}.stat-icon{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:#fff3;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-radius:var(--radius-md);flex-shrink:0;transition:transform .2s ease}.stat-card:hover .stat-icon{transform:scale(1.05)}.stat-icon svg{width:20px;height:20px;color:#fff;transition:none}.stat-content{flex:1}.stat-value{font-size:1.875rem;font-weight:var(--font-weight-bold);color:#fff;line-height:1;margin-bottom:var(--space-1)}.stat-label{font-size:.75rem;font-weight:var(--font-weight-medium);color:#ffffffe6;text-transform:uppercase;letter-spacing:.05em}.sidebar-section{padding:var(--space-6);border-bottom:1px solid var(--color-border)}.sidebar-section:last-child{border-bottom:none}.section-title{display:flex;align-items:center;gap:var(--space-2);font-size:.875rem;font-weight:var(--font-weight-semibold);color:var(--color-text-primary);text-transform:uppercase;letter-spacing:.05em;margin-bottom:var(--space-4)}.section-icon{width:16px;height:16px;color:var(--color-primary-500);transition:none}.recent-list,.events-list{display:flex;flex-direction:column;gap:var(--space-3)}.recent-item,.event-item{display:flex;align-items:center;gap:var(--space-3);padding:var(--space-3);background:var(--color-bg-secondary);border-radius:var(--radius-md);transition:all var(--transition-base);cursor:pointer;border:1px solid transparent}.recent-item:hover,.event-item:hover{background:var(--color-bg-tertiary);border-color:var(--color-border);transform:translate(4px)}.member-icon,.event-icon{font-size:1.25rem;width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:var(--color-bg-primary);border-radius:var(--radius-md);flex-shrink:0}.member-name{font-size:.875rem;font-weight:var(--font-weight-medium);color:var(--color-text-primary)}.event-details{flex:1;min-width:0}.event-name{font-size:.875rem;font-weight:var(--font-weight-medium);color:var(--color-text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.event-date{font-size:.75rem;color:var(--color-text-secondary);margin-top:var(--space-1)}.no-events{text-align:center;color:var(--color-text-tertiary);font-size:.875rem;padding:var(--space-6) var(--space-4)}.tree-container{flex:1;position:relative;overflow:hidden;background:linear-gradient(135deg,#f9fafb,#fff)}#familyTree{width:100%;height:100%}.tooltip{position:absolute;background:var(--color-gray-900);color:#fff;padding:var(--space-3) var(--space-4);border-radius:var(--radius-md);font-size:.875rem;pointer-events:none;opacity:0;transition:opacity var(--transition-base);z-index:1000;max-width:280px;box-shadow:var(--shadow-xl)}.tooltip.active{opacity:1}.loading-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#fffffff2;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;flex-direction:column;justify-content:center;align-items:center;gap:var(--space-4);z-index:9999}.loading-overlay.hidden{display:none}.spinner{width:48px;height:48px;border:4px solid var(--color-gray-200);border-top-color:var(--color-primary-500);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.loading-overlay p{font-size:.875rem;font-weight:var(--font-weight-medium);color:var(--color-text-secondary)}.notification{position:fixed;top:-100px;right:var(--space-6);background:var(--color-bg-primary);padding:var(--space-4) var(--space-5);border-radius:var(--radius-lg);box-shadow:var(--shadow-2xl);z-index:10000;transition:top var(--transition-slow);min-width:320px;border-left:4px solid}.notification.show{top:var(--space-6)}.notification-success{border-left-color:var(--color-success-500)}.notification-error{border-left-color:var(--color-accent-500)}.notification-info{border-left-color:var(--color-primary-500)}.notification-warning{border-left-color:#f59e0b}@media (max-width: 1280px){.sidebar{width:280px}.search-wrapper{width:240px}}@media (max-width: 1024px){.header-container,.toolbar-container{padding:var(--space-4) var(--space-6)}.sidebar{width:240px}.stats-grid{grid-template-columns:1fr}}@media (max-width: 768px){.header-container{flex-direction:column;align-items:flex-start;gap:var(--space-4)}.header-right{width:100%;justify-content:space-between}.toolbar-container{flex-direction:column;align-items:stretch;gap:var(--space-4)}.toolbar-left,.toolbar-right{flex-direction:column;align-items:stretch}.search-wrapper{width:100%}.main-content{flex-direction:column}.sidebar{width:100%;max-height:400px;border-right:none;border-bottom:1px solid var(--color-border)}.btn span{display:none}.btn-icon-svg{margin:0}}@media print{.app-header,.toolbar,.sidebar{display:none!important}.tree-container{width:100%;height:auto}body{background:#fff}}.btn-google{display:flex;align-items:center;gap:var(--space-2);padding:var(--space-2) var(--space-4);background:#fff;color:var(--color-gray-700);border:1px solid var(--color-gray-300);border-radius:var(--radius-md);font-weight:var(--font-weight-medium);cursor:pointer;transition:var(--transition-base)}.btn-google:hover{background:var(--color-gray-50);border-color:var(--color-gray-400);box-shadow:var(--shadow-sm)}.btn-google .btn-icon-svg{width:18px;height:18px}.btn-google.btn-large{padding:var(--space-4) var(--space-6);font-size:1rem}.btn-google.btn-large .btn-icon-svg{width:22px;height:22px}.auth-section{display:flex;align-items:center}.user-section{display:flex;align-items:center;gap:var(--space-3)}.user-section.hidden{display:none}.user-menu{position:relative}.user-avatar-btn{display:flex;align-items:center;gap:var(--space-2);padding:var(--space-1) var(--space-2);background:#ffffff1a;border:none;border-radius:var(--radius-full);cursor:pointer;transition:var(--transition-base)}.user-avatar-btn:hover{background:#fff3}.user-avatar{width:32px;height:32px;border-radius:var(--radius-full);object-fit:cover;border:2px solid rgba(255,255,255,.3)}.user-name{color:#fff;font-weight:var(--font-weight-medium);font-size:.875rem;max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dropdown-arrow{width:16px;height:16px;color:#ffffffb3}.user-dropdown{position:absolute;top:calc(100% + 8px);right:0;min-width:220px;background:#fff;border-radius:var(--radius-lg);box-shadow:var(--shadow-xl);border:1px solid var(--color-border);z-index:1000;overflow:hidden}.user-dropdown.hidden{display:none}.dropdown-header{padding:var(--space-3) var(--space-4);background:var(--color-gray-50)}.user-email{font-size:.75rem;color:var(--color-text-secondary)}.dropdown-divider{height:1px;background:var(--color-border)}.dropdown-item{display:flex;align-items:center;gap:var(--space-3);width:100%;padding:var(--space-3) var(--space-4);background:none;border:none;color:var(--color-text-primary);font-size:.875rem;cursor:pointer;transition:var(--transition-fast);text-align:left}.dropdown-item:hover{background:var(--color-gray-50)}.dropdown-item svg{width:18px;height:18px;color:var(--color-text-secondary)}.dropdown-item-danger{color:var(--color-accent-500)}.dropdown-item-danger svg{color:var(--color-accent-500)}.dropdown-item-danger:hover{background:#fef2f2}.welcome-screen{position:fixed;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,var(--color-primary-600) 0%,var(--color-secondary-600) 100%);display:flex;align-items:center;justify-content:center;z-index:2000}.welcome-screen.hidden{display:none}.welcome-content{text-align:center;max-width:480px;padding:var(--space-8)}.welcome-icon{width:80px;height:80px;margin:0 auto var(--space-6);color:#fff}.welcome-icon svg{width:100%;height:100%}.welcome-title{font-size:2rem;font-weight:var(--font-weight-bold);color:#fff;margin-bottom:var(--space-4)}.welcome-description{font-size:1.1rem;color:#ffffffd9;margin-bottom:var(--space-8);line-height:1.6}.welcome-features{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--space-4);margin-top:var(--space-8)}.feature-item{display:flex;align-items:center;gap:var(--space-2);padding:var(--space-3) var(--space-4);background:#ffffff1a;border-radius:var(--radius-md);color:#fff;font-size:.875rem}.feature-item svg{width:20px;height:20px;flex-shrink:0}.modal-medium .modal-content{max-width:500px}.modal-small .modal-content{max-width:400px}.trees-list{max-height:300px;overflow-y:auto;margin-bottom:var(--space-4)}.tree-item{display:flex;align-items:center;justify-content:space-between;padding:var(--space-3) var(--space-4);border:1px solid var(--color-border);border-radius:var(--radius-md);margin-bottom:var(--space-2);cursor:pointer;transition:var(--transition-fast)}.tree-item:hover{background:var(--color-gray-50);border-color:var(--color-primary-300)}.tree-item.active{background:var(--color-primary-50);border-color:var(--color-primary-500)}.tree-item-info{display:flex;flex-direction:column;gap:var(--space-1)}.tree-item-name{font-weight:var(--font-weight-semibold);color:var(--color-text-primary)}.tree-item-meta{font-size:.75rem;color:var(--color-text-secondary)}.tree-item-arrow{width:20px;height:20px;color:var(--color-text-tertiary)}.trees-empty{text-align:center;padding:var(--space-8);color:var(--color-text-secondary)}.trees-empty svg{width:48px;height:48px;margin-bottom:var(--space-3);color:var(--color-text-tertiary)}.btn-full{width:100%;justify-content:center}.form-group{margin-bottom:var(--space-4)}.form-label{display:block;font-weight:var(--font-weight-medium);color:var(--color-text-primary);margin-bottom:var(--space-2)}.form-input{width:100%;padding:var(--space-3);border:1px solid var(--color-border);border-radius:var(--radius-md);font-size:1rem;transition:var(--transition-fast)}.form-input:focus{outline:none;border-color:var(--color-primary-500);box-shadow:0 0 0 3px #3b82f61a}.current-tree-indicator{display:flex;align-items:center;gap:var(--space-2);padding:var(--space-2) var(--space-3);background:#ffffff1a;border-radius:var(--radius-md);color:#fff;font-size:.875rem}.current-tree-indicator svg{width:16px;height:16px}.tree-node{transition:filter .3s cubic-bezier(.4,0,.2,1);filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}.tree-node:hover{filter:drop-shadow(0 4px 12px rgba(59,130,246,.4))}.tree-node circle{transition:all .3s cubic-bezier(.4,0,.2,1)}.tree-node text{pointer-events:none}.tree-node.highlighted{filter:drop-shadow(0 0 20px rgba(59,130,246,.8));animation:pulse-highlight 2s ease-in-out infinite}@keyframes pulse-highlight{0%,to{filter:drop-shadow(0 0 20px rgba(59,130,246,.8))}50%{filter:drop-shadow(0 0 30px rgba(59,130,246,1))}}.tree-link{transition:all .3s cubic-bezier(.4,0,.2,1);stroke:#d1d5db;stroke-width:2}.tree-link:hover{stroke:#3b82f6;stroke-width:3;filter:drop-shadow(0 2px 4px rgba(59,130,246,.3))}.tree-node text{font-family:Inter,-apple-system,sans-serif;font-weight:600;letter-spacing:-.025em;transition:all .3s ease}.tree-node:hover text{font-weight:700}.timeline-axis path,.timeline-axis line{stroke:#e5e7eb;stroke-width:2}.timeline-axis text{fill:#6b7280;font-size:12px;font-weight:500;font-family:Inter,sans-serif}.timeline-point{transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer}.timeline-point:hover{transform:scale(1.15)}.timeline-point circle{stroke:#fff;stroke-width:3;filter:drop-shadow(0 2px 8px rgba(0,0,0,.15));transition:all .3s ease}.timeline-point:hover circle{filter:drop-shadow(0 4px 12px rgba(0,0,0,.25))}.timeline-point text{font-family:Inter,sans-serif;font-weight:600;font-size:11px}.timeline-connector{stroke:#e5e7eb;stroke-width:1;stroke-dasharray:4,4;opacity:.6}.grid-card{transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer}.grid-card:hover{transform:translateY(-8px)}.grid-card rect{transition:all .3s cubic-bezier(.4,0,.2,1);filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}.grid-card:hover rect{stroke:#3b82f6;stroke-width:2;filter:drop-shadow(0 8px 16px rgba(0,0,0,.15))}.grid-card circle{filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}.grid-card text{font-family:Inter,sans-serif}@keyframes nodeAppear{0%{opacity:0;transform:scale(0) translateY(-20px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes linkAppear{0%{opacity:0;stroke-dasharray:1000;stroke-dashoffset:1000}to{opacity:1;stroke-dashoffset:0}}.tree-node{animation:nodeAppear .6s cubic-bezier(.34,1.56,.64,1)}.tree-link{animation:linkAppear .8s ease-out}.timeline-point{animation:nodeAppear .5s cubic-bezier(.34,1.56,.64,1)}.grid-card{animation:nodeAppear .4s cubic-bezier(.34,1.56,.64,1)}.tree-node:nth-child(1){animation-delay:.05s}.tree-node:nth-child(2){animation-delay:.1s}.tree-node:nth-child(3){animation-delay:.15s}.tree-node:nth-child(4){animation-delay:.2s}.tree-node:nth-child(5){animation-delay:.25s}.connection-line{stroke:#d1d5db;stroke-width:2;fill:none;transition:all .3s cubic-bezier(.4,0,.2,1)}.connection-line:hover{stroke:#3b82f6;stroke-width:3}.marriage-line{stroke:#f43f5e;stroke-width:3;stroke-dasharray:8,4;filter:drop-shadow(0 2px 4px rgba(244,63,94,.3))}.parent-child-line{stroke:#3b82f6;stroke-width:2}.sibling-line{stroke:#10b981;stroke-width:2;stroke-dasharray:4,4}.node-badge{font-size:10px;fill:#fff;font-weight:700;font-family:Inter,sans-serif}.badge-circle{fill:#ef4444;stroke:#fff;stroke-width:2;filter:drop-shadow(0 2px 4px rgba(0,0,0,.2))}.generation-line{stroke:#e5e7eb;stroke-width:1;stroke-dasharray:4,4;opacity:.4}.generation-label{fill:#9ca3af;font-size:11px;font-weight:600;font-family:Inter,sans-serif;text-transform:uppercase;letter-spacing:.05em}.generation-group{opacity:0;animation:fadeIn .6s ease-out forwards}@keyframes fadeIn{to{opacity:1}}.node-male circle{fill:url(#maleGradient)}.node-female circle{fill:url(#femaleGradient)}.node-other circle{fill:url(#otherGradient)}#maleGradient stop:first-child{stop-color:#3b82f6}#maleGradient stop:last-child{stop-color:#2563eb}#femaleGradient stop:first-child{stop-color:#ec4899}#femaleGradient stop:last-child{stop-color:#db2777}#otherGradient stop:first-child{stop-color:#8b5cf6}#otherGradient stop:last-child{stop-color:#7c3aed}.node-alive circle{stroke:#10b981;stroke-width:3}.node-deceased circle{stroke:#6b7280;stroke-width:3;opacity:.75;filter:grayscale(20%)}.node-deceased text{opacity:.8}.node-clickable{cursor:pointer}.node-clickable:hover{filter:brightness(1.1)}.node-clickable:active{transform:scale(.95)}.search-highlight{stroke:#fbbf24;stroke-width:4;fill:none;animation:pulse-search 1.5s ease-in-out infinite}@keyframes pulse-search{0%,to{opacity:1;stroke-width:4}50%{opacity:.6;stroke-width:6}}.minimap{position:absolute;bottom:24px;left:24px;width:220px;height:160px;background:#fff;border:2px solid #e5e7eb;border-radius:12px;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;overflow:hidden;z-index:40}.minimap-viewport{fill:#3b82f626;stroke:#3b82f6;stroke-width:2;cursor:move;transition:fill .2s ease}.minimap-viewport:hover{fill:#3b82f640}.minimap-content{transform-origin:center}.zoom-controls{position:absolute;bottom:24px;right:24px;display:flex;flex-direction:column;gap:8px;background:#fff;padding:8px;border-radius:12px;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;border:1px solid #e5e7eb;z-index:40}.zoom-controls button{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:#fff;border:1px solid #e5e7eb;border-radius:8px;cursor:pointer;transition:all .2s ease}.zoom-controls button:hover{background:#f9fafb;border-color:#3b82f6;color:#3b82f6}.zoom-controls button:active{transform:scale(.95)}.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:#9ca3af;padding:48px;text-align:center}.empty-state-icon{font-size:64px;margin-bottom:24px;opacity:.4;animation:float 3s ease-in-out infinite}@keyframes float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.empty-state-title{font-size:1.5rem;font-weight:700;color:#374151;margin-bottom:8px;font-family:Inter,sans-serif}.empty-state-description{font-size:1rem;color:#6b7280;margin-bottom:32px;max-width:400px;line-height:1.6}.empty-state-action{padding:12px 24px;background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;border:none;border-radius:8px;font-size:.875rem;font-weight:600;font-family:Inter,sans-serif;cursor:pointer;box-shadow:0 4px 6px -1px #0000001a;transition:all .3s ease}.empty-state-action:hover{transform:translateY(-2px);box-shadow:0 10px 15px -3px #00000026}.tree-loading{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;gap:16px}.tree-loading-spinner{width:48px;height:48px;border:4px solid #e5e7eb;border-top-color:#3b82f6;border-radius:50%;animation:spin 1s linear infinite}.tree-loading-text{font-size:.875rem;font-weight:500;color:#6b7280;font-family:Inter,sans-serif}@media (max-width: 1024px){.minimap{width:180px;height:130px;bottom:16px;left:16px}.zoom-controls{bottom:16px;right:16px}}@media (max-width: 768px){.minimap{display:none}.tree-node text{font-size:11px}.generation-label{font-size:10px}}@media print{.zoom-controls,.minimap{display:none!important}.tree-container{overflow:visible!important}#familyTree{max-width:100%!important;height:auto!important}.tree-node,.tree-link{animation:none!important}.tree-link{stroke:#000!important}.tree-node text{fill:#000!important}}.tree-node:focus,.timeline-point:focus,.grid-card:focus{outline:3px solid #3b82f6;outline-offset:4px}.tree-node:focus:not(:focus-visible),.timeline-point:focus:not(:focus-visible),.grid-card:focus:not(:focus-visible){outline:none}@media (prefers-contrast: high){.tree-link{stroke:#000;stroke-width:3}.tree-node circle{stroke:#000;stroke-width:3}.tree-node text{fill:#000;font-weight:700}}@media (prefers-reduced-motion: reduce){.tree-node,.tree-link,.timeline-point,.grid-card{animation:none!important;transition:none!important}.tree-node:hover,.grid-card:hover{transform:none!important}}.modal{position:fixed;top:0;left:0;right:0;bottom:0;background:#111827b3;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;justify-content:center;align-items:center;z-index:10000;opacity:0;visibility:hidden;transition:all .3s cubic-bezier(.4,0,.2,1)}.modal.active{opacity:1;visibility:visible}.modal-content{background:#fff;border-radius:16px;width:90%;max-width:900px;max-height:90vh;display:flex;flex-direction:column;box-shadow:0 25px 50px -12px #00000040;transform:scale(.9) translateY(20px);transition:transform .3s cubic-bezier(.34,1.56,.64,1)}.modal.active .modal-content{transform:scale(1) translateY(0)}.modal-header{display:flex;justify-content:space-between;align-items:center;padding:24px 32px;border-bottom:1px solid #e5e7eb;background:linear-gradient(135deg,#f9fafb,#fff);border-radius:16px 16px 0 0}.modal-header h2{margin:0;font-size:1.5rem;font-weight:700;color:#111827;font-family:Inter,sans-serif;letter-spacing:-.025em}.modal-close{background:#f3f4f6;border:none;width:40px;height:40px;border-radius:10px;font-size:1.5rem;color:#6b7280;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;font-weight:300}.modal-close:hover{background:#fee2e2;color:#ef4444;transform:rotate(90deg)}.modal-close:active{transform:rotate(90deg) scale(.95)}.modal-body{padding:32px;overflow-y:auto;flex:1}.modal-body::-webkit-scrollbar{width:8px}.modal-body::-webkit-scrollbar-track{background:#f3f4f6;border-radius:10px}.modal-body::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:10px}.modal-body::-webkit-scrollbar-thumb:hover{background:#9ca3af}.modal-footer{display:flex;justify-content:flex-end;gap:12px;padding:20px 32px;border-top:1px solid #e5e7eb;background:#f9fafb;border-radius:0 0 16px 16px}.member-form{display:flex;flex-direction:column;gap:24px}.form-row{display:grid;grid-template-columns:1fr 1fr;gap:20px}.form-group{display:flex;flex-direction:column;gap:8px}.form-group label{font-size:.875rem;font-weight:600;color:#374151;font-family:Inter,sans-serif}.form-group input[type=text],.form-group input[type=email],.form-group input[type=tel],.form-group input[type=date],.form-group select,.form-group textarea{padding:12px 16px;border:2px solid #e5e7eb;border-radius:10px;font-size:.875rem;font-family:Inter,sans-serif;background:#fff;color:#111827;transition:all .2s ease}.form-group input:hover,.form-group select:hover,.form-group textarea:hover{border-color:#d1d5db}.form-group input:focus,.form-group select:focus,.form-group textarea:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 4px #3b82f61a}.form-group input::placeholder,.form-group textarea::placeholder{color:#9ca3af}.form-group textarea{resize:vertical;min-height:100px;line-height:1.6}.form-group select{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M6 8l4 4 4-4'/%3E%3C/svg%3E");background-position:right 12px center;background-repeat:no-repeat;background-size:20px;padding-right:40px}.form-group input[type=checkbox]{width:20px;height:20px;cursor:pointer;accent-color:#3b82f6}.form-group label:has(input[type=checkbox]){flex-direction:row;align-items:center;gap:10px;cursor:pointer;font-weight:500}.form-section-title{font-size:1.125rem;font-weight:700;color:#1e40af;margin-top:16px;padding-bottom:12px;border-bottom:2px solid #3b82f6;font-family:Inter,sans-serif;letter-spacing:-.025em;position:relative}.form-section-title:before{content:"";position:absolute;bottom:-2px;left:0;width:60px;height:2px;background:linear-gradient(90deg,#3b82f6,#2563eb)}.form-group input:invalid:not(:focus):not(:placeholder-shown),.form-group select:invalid:not(:focus),.form-group textarea:invalid:not(:focus):not(:placeholder-shown){border-color:#ef4444}.form-group input:valid:not(:focus):not(:placeholder-shown),.form-group select:valid:not(:focus),.form-group textarea:valid:not(:focus):not(:placeholder-shown){border-color:#10b981}.error-message{color:#ef4444;font-size:.8125rem;font-weight:500;margin-top:4px;display:flex;align-items:center;gap:6px}.error-message:before{content:"⚠";font-size:1rem}.success-message{color:#10b981;font-size:.8125rem;font-weight:500;margin-top:4px;display:flex;align-items:center;gap:6px}.success-message:before{content:"✓";font-size:1rem}.form-group label:has(+input[required]):after,.form-group label:has(+select[required]):after,.form-group label:has(+textarea[required]):after{content:" *";color:#ef4444;font-weight:700}.modal-footer .btn{min-width:120px;padding:12px 24px;font-weight:600}.modal-footer .btn-primary{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;border:none;box-shadow:0 4px 6px -1px #0000001a}.modal-footer .btn-primary:hover{background:linear-gradient(135deg,#2563eb,#1d4ed8);box-shadow:0 10px 15px -3px #00000026;transform:translateY(-2px)}.modal-footer .btn-primary:active{transform:translateY(0)}.modal-footer .btn-secondary{background:#fff;color:#374151;border:2px solid #e5e7eb}.modal-footer .btn-secondary:hover{background:#f9fafb;border-color:#d1d5db}.modal-loading{position:absolute;top:0;left:0;right:0;bottom:0;background:#fffffff2;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;flex-direction:column;justify-content:center;align-items:center;gap:16px;border-radius:16px;z-index:10}.modal-loading-spinner{width:48px;height:48px;border:4px solid #e5e7eb;border-top-color:#3b82f6;border-radius:50%;animation:spin 1s linear infinite}.modal-loading-text{font-size:.875rem;font-weight:600;color:#6b7280;font-family:Inter,sans-serif}.form-group{animation:fadeInUp .4s ease}@keyframes fadeInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.form-row:nth-child(1) .form-group{animation-delay:.05s}.form-row:nth-child(2) .form-group{animation-delay:.1s}.form-row:nth-child(3) .form-group{animation-delay:.15s}.form-row:nth-child(4) .form-group{animation-delay:.2s}.form-row:nth-child(5) .form-group{animation-delay:.25s}.form-group{position:relative}.form-group input:focus+.input-helper,.form-group select:focus+.input-helper,.form-group textarea:focus+.input-helper{opacity:1;transform:translateY(0)}.input-helper{font-size:.75rem;color:#6b7280;margin-top:4px;opacity:0;transform:translateY(-4px);transition:all .2s ease}@media (max-width: 1024px){.modal-content{max-width:95%}.modal-header,.modal-body,.modal-footer{padding:20px 24px}}@media (max-width: 768px){.modal-content{width:95%;max-height:95vh;border-radius:12px}.modal-header,.modal-body,.modal-footer{padding:16px 20px}.modal-header h2{font-size:1.25rem}.form-row{grid-template-columns:1fr;gap:16px}.modal-footer{flex-direction:column-reverse}.modal-footer .btn{width:100%;min-width:auto}}@media (max-width: 480px){.modal-content{width:100%;height:100%;max-height:100vh;border-radius:0}.modal-header,.modal-footer{border-radius:0}}.modal-close:focus-visible{outline:3px solid #3b82f6;outline-offset:2px}.form-group input:focus-visible,.form-group select:focus-visible,.form-group textarea:focus-visible{outline:3px solid #3b82f6;outline-offset:2px}@media (prefers-color-scheme: dark){.modal{background:#000c}.modal-content{background:#1f2937}.modal-header{background:linear-gradient(135deg,#111827,#1f2937);border-bottom-color:#374151}.modal-header h2{color:#f9fafb}.modal-close{background:#374151;color:#d1d5db}.modal-close:hover{background:#7f1d1d;color:#fca5a5}.modal-body{background:#1f2937}.modal-footer{background:#111827;border-top-color:#374151}.form-group label{color:#e5e7eb}.form-group input,.form-group select,.form-group textarea{background:#374151;border-color:#4b5563;color:#f9fafb}.form-group input:hover,.form-group select:hover,.form-group textarea:hover{border-color:#6b7280}.form-group input:focus,.form-group select:focus,.form-group textarea:focus{border-color:#60a5fa;box-shadow:0 0 0 4px #60a5fa33}.form-section-title{color:#93c5fd;border-bottom-color:#60a5fa}.form-section-title:before{background:linear-gradient(90deg,#60a5fa,#3b82f6)}}@media print{.modal{position:static;background:#fff}.modal-content{box-shadow:none;max-height:none}.modal-footer,.modal-close{display:none!important}}@media (prefers-reduced-motion: reduce){.modal,.modal-content,.form-group,.modal-close{animation:none!important;transition:none!important}.modal-close:hover{transform:none!important}}
