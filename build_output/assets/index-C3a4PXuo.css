*{margin:0;padding:0;box-sizing:border-box}:root{--color-primary: #6366f1;--color-primary-light: #818cf8;--color-primary-dark: #4f46e5;--color-primary-50: #eef2ff;--color-primary-100: #e0e7ff;--color-white: #ffffff;--color-gray-50: #f9fafb;--color-gray-100: #f3f4f6;--color-gray-200: #e5e7eb;--color-gray-300: #d1d5db;--color-gray-400: #9ca3af;--color-gray-500: #6b7280;--color-gray-600: #4b5563;--color-gray-700: #374151;--color-gray-800: #1f2937;--color-gray-900: #111827;--bg-primary: #ffffff;--bg-secondary: #f8fafc;--bg-tertiary: #f1f5f9;--bg-glass: rgba(255, 255, 255, .85);--text-primary: #1e293b;--text-secondary: #64748b;--text-tertiary: #94a3b8;--text-inverse: #ffffff;--border-light: #f1f5f9;--border-default: #e2e8f0;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .04), 0 1px 3px rgba(0, 0, 0, .06);--shadow-md: 0 4px 6px rgba(0, 0, 0, .04), 0 2px 4px rgba(0, 0, 0, .06);--shadow-lg: 0 10px 20px rgba(0, 0, 0, .06), 0 4px 8px rgba(0, 0, 0, .04);--shadow-xl: 0 20px 40px rgba(0, 0, 0, .08);--shadow-2xl: 0 25px 50px rgba(0, 0, 0, .12);--radius-sm: 6px;--radius-md: 10px;--radius-lg: 14px;--radius-xl: 20px;--radius-2xl: 28px;--radius-full: 9999px;--space-1: 4px;--space-2: 8px;--space-3: 12px;--space-4: 16px;--space-5: 20px;--space-6: 24px;--space-8: 32px;--space-10: 40px;--space-12: 48px;--space-16: 64px;--font-sans: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;--font-weight-normal: 400;--font-weight-medium: 500;--font-weight-semibold: 600;--font-weight-bold: 700;--transition-fast: .15s ease;--transition-base: .25s ease;--transition-slow: .4s ease}html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{font-family:var(--font-sans);background:var(--bg-secondary);color:var(--text-primary);line-height:1.6;min-height:100vh}.page{position:fixed;top:0;right:0;bottom:0;left:0;transition:opacity var(--transition-slow),visibility var(--transition-slow)}.page.hidden{opacity:0;visibility:hidden;pointer-events:none}.sign-in-page{background:linear-gradient(135deg,#667eea,#764ba2);overflow:hidden}.sign-in-container{display:flex;width:100%;height:100%}.sign-in-branding{flex:1;display:flex;align-items:center;justify-content:center;padding:var(--space-8);background:linear-gradient(135deg,#6366f1f2,#4f46e5f2,#7c3aedf2);position:relative;overflow:hidden}.sign-in-branding:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")}.branding-content{position:relative;z-index:1;max-width:480px;color:var(--text-inverse)}.branding-logo{width:80px;height:80px;margin-bottom:var(--space-8);background:#ffffff26;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:var(--radius-xl);display:flex;align-items:center;justify-content:center;border:1px solid rgba(255,255,255,.2)}.branding-logo svg{width:44px;height:44px;color:var(--text-inverse)}.branding-title{font-size:2.5rem;font-weight:var(--font-weight-bold);letter-spacing:-.03em;margin-bottom:var(--space-3);line-height:1.1}.branding-tagline{font-size:1.125rem;opacity:.9;margin-bottom:var(--space-12);line-height:1.6}.branding-features{display:flex;flex-direction:column;gap:var(--space-5)}.branding-feature{display:flex;align-items:flex-start;gap:var(--space-4)}.branding-feature .feature-icon{width:44px;height:44px;flex-shrink:0;background:#ffffff26;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;border:1px solid rgba(255,255,255,.1)}.branding-feature .feature-icon svg{width:22px;height:22px;color:var(--text-inverse)}.branding-feature .feature-text h3{font-size:1rem;font-weight:var(--font-weight-semibold);margin-bottom:var(--space-1)}.branding-feature .feature-text p{font-size:.875rem;opacity:.8;line-height:1.5}.sign-in-form-container{width:480px;flex-shrink:0;display:flex;align-items:center;justify-content:center;background:var(--bg-primary);padding:var(--space-8)}.sign-in-form{width:100%;max-width:360px}.sign-in-form .form-header{text-align:center;margin-bottom:var(--space-8)}.sign-in-form .form-header h2{font-size:1.75rem;font-weight:var(--font-weight-bold);color:var(--text-primary);letter-spacing:-.02em;margin-bottom:var(--space-2)}.sign-in-form .form-header p{font-size:1rem;color:var(--text-secondary)}.sign-in-form .btn-google{width:100%;padding:var(--space-4) var(--space-6);font-size:1rem;border-radius:var(--radius-lg);margin-bottom:var(--space-6)}.sign-in-divider{text-align:center;margin-bottom:var(--space-6)}.sign-in-divider span{font-size:.8125rem;color:var(--text-tertiary)}.sign-in-footer{text-align:center;font-size:.75rem;color:var(--text-tertiary);line-height:1.6}.dashboard-page{display:flex;flex-direction:column;background:var(--bg-secondary);height:100vh;overflow:hidden}.dashboard-header{position:fixed;top:0;left:0;right:0;z-index:100;background:var(--bg-glass);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-bottom:1px solid var(--border-light)}.header-container{max-width:1400px;margin:0 auto;padding:var(--space-3) var(--space-6);display:flex;align-items:center;justify-content:space-between}.header-left{display:flex;align-items:center;gap:var(--space-4)}.header-center{position:absolute;left:50%;transform:translate(-50%)}.app-logo{display:flex;align-items:center;gap:var(--space-3)}.logo-icon{width:32px;height:32px;color:var(--color-primary)}.app-title-group{display:flex;flex-direction:column}.app-title{font-size:1.0625rem;font-weight:var(--font-weight-bold);color:var(--text-primary);letter-spacing:-.02em;line-height:1.2}.app-badge{font-size:.5625rem;font-weight:var(--font-weight-semibold);text-transform:uppercase;letter-spacing:.1em;color:var(--color-primary)}.header-right{display:flex;align-items:center;gap:var(--space-3)}.btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--space-2);padding:var(--space-2) var(--space-4);font-family:var(--font-sans);font-size:.875rem;font-weight:var(--font-weight-medium);border:none;border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-base)}.btn:focus{outline:none}.btn:focus-visible{box-shadow:0 0 0 3px #6366f140}.btn-primary{background:var(--color-primary);color:var(--text-inverse)}.btn-primary:hover{background:var(--color-primary-dark);transform:translateY(-1px)}.btn-secondary{background:var(--bg-tertiary);color:var(--text-primary)}.btn-secondary:hover{background:var(--color-gray-200)}.btn-icon-only{width:36px;height:36px;padding:0;background:transparent;color:var(--text-secondary);border-radius:var(--radius-md)}.btn-icon-only:hover{background:var(--bg-tertiary);color:var(--text-primary)}.btn-icon-only svg{width:18px;height:18px}.btn-icon-svg{width:16px;height:16px}.btn-google{background:var(--bg-primary);color:var(--text-primary);border:1px solid var(--border-default);padding:var(--space-2) var(--space-4);box-shadow:var(--shadow-sm)}.btn-google:hover{background:var(--bg-secondary);box-shadow:var(--shadow-md);transform:translateY(-1px)}.btn-google .btn-icon-svg{width:18px;height:18px}.btn-large{padding:var(--space-3) var(--space-6);font-size:.9375rem;border-radius:var(--radius-lg)}.btn-full{width:100%;justify-content:center}.current-tree-name{font-size:.875rem;font-weight:var(--font-weight-semibold);color:var(--text-primary);padding:var(--space-2) var(--space-4);background:var(--bg-tertiary);border-radius:var(--radius-full)}.user-menu{position:relative}.user-avatar-btn{display:flex;align-items:center;gap:var(--space-2);padding:4px;padding-right:var(--space-3);background:var(--bg-tertiary);border:none;border-radius:var(--radius-full);cursor:pointer;transition:var(--transition-base)}.user-avatar-btn:hover{background:var(--color-gray-200)}.user-avatar{width:28px;height:28px;border-radius:var(--radius-full);object-fit:cover}.user-name{font-size:.8125rem;font-weight:var(--font-weight-medium);color:var(--text-primary)}.dropdown-arrow{width:14px;height:14px;color:var(--text-tertiary)}.user-dropdown{position:absolute;top:calc(100% + 8px);right:0;min-width:200px;background:var(--bg-primary);border-radius:var(--radius-lg);box-shadow:var(--shadow-xl);border:1px solid var(--border-light);z-index:1000;overflow:hidden}.user-dropdown.hidden{display:none}.dropdown-header{padding:var(--space-3) var(--space-4);border-bottom:1px solid var(--border-light)}.user-email{font-size:.75rem;color:var(--text-tertiary)}.dropdown-divider{height:1px;background:var(--border-light)}.dropdown-item{display:flex;align-items:center;gap:var(--space-3);width:100%;padding:var(--space-3) var(--space-4);background:none;border:none;color:var(--text-primary);font-size:.8125rem;cursor:pointer;transition:var(--transition-fast);text-align:left}.dropdown-item:hover{background:var(--bg-secondary)}.dropdown-item svg{width:16px;height:16px;color:var(--text-tertiary)}.dropdown-item-danger{color:#ef4444}.dropdown-item-danger svg{color:#ef4444}.dropdown-item-danger:hover{background:#fef2f2}.toolbar{background:var(--bg-primary);border-bottom:1px solid var(--border-light);position:sticky;top:56px;z-index:50}.toolbar-container{max-width:1400px;margin:0 auto;padding:var(--space-3) var(--space-6);display:flex;align-items:center;justify-content:space-between;gap:var(--space-4)}.toolbar-left,.toolbar-right{display:flex;align-items:center;gap:var(--space-3)}.toolbar-divider{width:1px;height:20px;background:var(--border-default)}.search-wrapper{position:relative;width:260px}.search-icon{position:absolute;left:var(--space-3);top:50%;transform:translateY(-50%);width:16px;height:16px;color:var(--text-tertiary)}.search-input{width:100%;padding:var(--space-2) var(--space-3) var(--space-2) 36px;font-family:var(--font-sans);font-size:.8125rem;background:var(--bg-secondary);border:1px solid transparent;border-radius:var(--radius-md);color:var(--text-primary);transition:var(--transition-base)}.search-input::placeholder{color:var(--text-tertiary)}.search-input:focus{outline:none;background:var(--bg-primary);border-color:var(--color-primary-light);box-shadow:0 0 0 3px #6366f114}.select-group{display:flex;flex-direction:column;gap:2px}.select-label{font-size:.625rem;font-weight:var(--font-weight-semibold);text-transform:uppercase;letter-spacing:.05em;color:var(--text-tertiary)}.select-input{padding:var(--space-2) var(--space-3);font-family:var(--font-sans);font-size:.8125rem;background:var(--bg-secondary);border:1px solid transparent;border-radius:var(--radius-sm);color:var(--text-primary);cursor:pointer}.select-input:focus{outline:none;border-color:var(--color-primary-light)}.btn-group{display:flex;gap:2px}.main-content{display:flex;flex:1;max-width:1400px;margin:56px auto 0;width:100%;padding:var(--space-5);gap:var(--space-5);overflow:hidden}.sidebar{width:260px;flex-shrink:0;display:flex;flex-direction:column;gap:var(--space-4)}.sidebar-header{margin-bottom:var(--space-1)}.sidebar-title{font-size:.6875rem;font-weight:var(--font-weight-semibold);text-transform:uppercase;letter-spacing:.08em;color:var(--text-tertiary)}.stats-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--space-3)}.stat-card{background:var(--bg-primary);border-radius:var(--radius-lg);padding:var(--space-4);display:flex;align-items:center;gap:var(--space-3);box-shadow:var(--shadow-sm);transition:var(--transition-base)}.stat-card:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}.stat-icon{width:36px;height:36px;border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center}.stat-icon svg{width:18px;height:18px;color:var(--text-inverse)}.stat-card-primary .stat-icon{background:linear-gradient(135deg,#6366f1,#4f46e5)}.stat-card-secondary .stat-icon{background:linear-gradient(135deg,#8b5cf6,#7c3aed)}.stat-card-success .stat-icon{background:linear-gradient(135deg,#10b981,#059669)}.stat-card-accent .stat-icon{background:linear-gradient(135deg,#ec4899,#db2777)}.stat-content{flex:1;min-width:0}.stat-value{font-size:1.375rem;font-weight:var(--font-weight-bold);color:var(--text-primary);line-height:1.2}.stat-label{font-size:.625rem;font-weight:var(--font-weight-semibold);text-transform:uppercase;letter-spacing:.04em;color:var(--text-tertiary)}.sidebar-section{background:var(--bg-primary);border-radius:var(--radius-lg);padding:var(--space-4);box-shadow:var(--shadow-sm)}.section-title{display:flex;align-items:center;gap:var(--space-2);font-size:.6875rem;font-weight:var(--font-weight-semibold);text-transform:uppercase;letter-spacing:.05em;color:var(--text-tertiary);margin-bottom:var(--space-3)}.section-icon{width:14px;height:14px}.recent-list,.events-list{display:flex;flex-direction:column;gap:var(--space-2)}.recent-item,.event-item{display:flex;align-items:center;gap:var(--space-3);padding:var(--space-2);border-radius:var(--radius-sm);transition:var(--transition-fast)}.recent-item:hover,.event-item:hover{background:var(--bg-secondary)}.member-icon,.event-icon{font-size:1.125rem}.member-name{font-size:.8125rem;font-weight:var(--font-weight-medium);color:var(--text-primary)}.event-details{flex:1}.event-name{font-size:.8125rem;font-weight:var(--font-weight-medium);color:var(--text-primary)}.event-date{font-size:.6875rem;color:var(--text-tertiary)}.no-events{font-size:.8125rem;color:var(--text-tertiary);text-align:center;padding:var(--space-4)}.tree-container{flex:1;background:var(--bg-primary);border-radius:var(--radius-xl);box-shadow:var(--shadow-sm);overflow:auto;min-height:500px;position:relative;touch-action:pan-x pan-y}#familyTree{width:100%;height:100%;min-height:500px}.loading-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#fffffff2;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:5000}.loading-overlay.hidden{display:none!important}.loading-content{display:flex;flex-direction:column;align-items:center;gap:var(--space-4)}.spinner{width:40px;height:40px;border:3px solid var(--border-default);border-top-color:var(--color-primary);border-radius:50%;animation:spin .7s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.loading-overlay p{font-size:.875rem;font-weight:var(--font-weight-medium);color:var(--text-secondary)}.modal{position:fixed;top:0;right:0;bottom:0;left:0;background:#0f172a66;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:4000;padding:var(--space-6)}.modal.hidden{display:none!important}.modal-content{background:var(--bg-primary);border-radius:var(--radius-xl);box-shadow:var(--shadow-xl);width:100%;max-width:480px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column}.modal-small{max-width:380px}.modal-medium{max-width:500px}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:var(--space-4) var(--space-5);border-bottom:1px solid var(--border-light)}.modal-header h2{font-size:1.0625rem;font-weight:var(--font-weight-semibold);color:var(--text-primary)}.modal-close{width:28px;height:28px;display:flex;align-items:center;justify-content:center;background:transparent;border:none;border-radius:var(--radius-sm);color:var(--text-tertiary);font-size:1.125rem;cursor:pointer;transition:var(--transition-fast)}.modal-close:hover{background:var(--bg-secondary);color:var(--text-primary)}.modal-body{padding:var(--space-5);overflow-y:auto;flex:1}.modal-footer{display:flex;justify-content:flex-end;gap:var(--space-3);padding:var(--space-4) var(--space-5);border-top:1px solid var(--border-light);background:var(--bg-secondary)}.form-group{margin-bottom:var(--space-4)}.form-label{display:block;font-size:.8125rem;font-weight:var(--font-weight-medium);color:var(--text-primary);margin-bottom:var(--space-2)}.form-input{width:100%;padding:var(--space-3);font-family:var(--font-sans);font-size:.875rem;background:var(--bg-secondary);border:1px solid var(--border-default);border-radius:var(--radius-md);color:var(--text-primary);transition:var(--transition-base)}.form-input:focus{outline:none;background:var(--bg-primary);border-color:var(--color-primary);box-shadow:0 0 0 3px #6366f114}.form-input::placeholder{color:var(--text-tertiary)}.trees-list{max-height:280px;overflow-y:auto;margin-bottom:var(--space-4)}.tree-item{display:flex;align-items:center;justify-content:space-between;padding:var(--space-3) var(--space-4);background:var(--bg-secondary);border:1px solid transparent;border-radius:var(--radius-md);margin-bottom:var(--space-2);cursor:pointer;transition:var(--transition-fast)}.tree-item:hover{background:var(--bg-primary);border-color:var(--border-default)}.tree-item.active{background:var(--color-primary-50);border-color:var(--color-primary-light)}.tree-item-info{display:flex;flex-direction:column;gap:2px}.tree-item-name{font-size:.875rem;font-weight:var(--font-weight-semibold);color:var(--text-primary)}.tree-item-meta{font-size:.6875rem;color:var(--text-tertiary)}.tree-item-arrow{width:18px;height:18px;color:var(--text-tertiary)}.tree-item:hover .tree-item-arrow{color:var(--color-primary)}.trees-empty{text-align:center;padding:var(--space-6);color:var(--text-secondary)}.trees-empty svg{width:40px;height:40px;margin-bottom:var(--space-3);color:var(--text-tertiary)}.trees-empty .text-muted{font-size:.8125rem;color:var(--text-tertiary);margin-top:var(--space-2)}.trees-loading{text-align:center;padding:var(--space-6);color:var(--text-secondary)}.trees-actions{padding-top:var(--space-4);border-top:1px solid var(--border-light)}.tooltip{position:absolute;padding:var(--space-2) var(--space-3);background:var(--color-gray-900);color:var(--text-inverse);font-size:.75rem;border-radius:var(--radius-sm);pointer-events:none;opacity:0;z-index:100}.tooltip.visible{opacity:1}@media (max-width: 1024px){.sign-in-branding{display:none}.sign-in-form-container{width:100%}.main-content{flex-direction:column;padding:var(--space-3);gap:var(--space-3)}.sidebar{width:100%;display:flex;flex-direction:column;gap:var(--space-3)}.stats-grid{grid-template-columns:repeat(4,1fr)}.header-center{display:none}.tree-container{min-height:400px;border-radius:var(--radius-lg)}.sidebar-header{display:none}.sidebar-section{padding:var(--space-3)}}@media (max-width: 768px){.toolbar-container{flex-wrap:wrap;padding:var(--space-2) var(--space-3)}.search-wrapper{width:100%;order:10}.stats-grid{grid-template-columns:repeat(4,1fr);gap:var(--space-2)}.stat-card{padding:var(--space-2);flex-direction:column;text-align:center}.stat-icon{width:32px;height:32px}.stat-icon svg{width:16px;height:16px}.stat-value{font-size:1.125rem}.stat-label{font-size:.5625rem}.sign-in-form-container{padding:var(--space-6)}.sign-in-form .form-header h2{font-size:1.5rem}.dashboard-page{height:100vh;height:100dvh}.main-content{padding:var(--space-2);margin-top:48px;flex:1;min-height:0;overflow-y:auto}.sidebar{width:100%;display:flex;flex-direction:column;gap:var(--space-3)}.tree-container{flex:1;min-height:400px;overflow:auto;-webkit-overflow-scrolling:touch}.toolbar{top:48px;flex-shrink:0}.header-container{padding:var(--space-2) var(--space-3)}.dashboard-header{flex-shrink:0}.app-title{font-size:.9375rem}.btn-primary span,.btn-secondary span{display:none}.sidebar{flex-direction:row;flex-wrap:wrap}.stats-grid{width:100%;order:1}.sidebar-section{flex:1;min-width:200px;order:2}.sidebar-section:first-of-type{order:2}.sidebar-section:last-of-type{order:3}}@media (max-width: 480px){.current-tree-name,.user-name{display:none}.sign-in-form-container{padding:var(--space-4)}.tree-container{border-radius:var(--radius-md);flex:1;min-height:0;height:100%}.main-content{padding:var(--space-2);gap:var(--space-2)}.toolbar-left{flex-wrap:wrap;width:100%}.select-group{flex:1;min-width:120px}.logo-icon{width:24px;height:24px}.app-title{font-size:.875rem}.stat-card{padding:var(--space-1) var(--space-2)}.stat-value{font-size:1rem}.stat-label{font-size:.5rem}.sidebar-section{padding:var(--space-2);font-size:.75rem}.section-title{font-size:.625rem;margin-bottom:var(--space-2)}.recent-item,.event-item{padding:var(--space-1);font-size:.75rem}}@media print{.dashboard-header,.toolbar,.sidebar,.modal,.loading-overlay{display:none!important}}.tree-node{transition:filter .3s cubic-bezier(.4,0,.2,1);filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}.tree-node:hover{filter:drop-shadow(0 4px 12px rgba(59,130,246,.4))}.tree-node circle{transition:all .3s cubic-bezier(.4,0,.2,1)}.tree-node text{pointer-events:none}.tree-node.highlighted{filter:drop-shadow(0 0 20px rgba(59,130,246,.8));animation:pulse-highlight 2s ease-in-out infinite}@keyframes pulse-highlight{0%,to{filter:drop-shadow(0 0 20px rgba(59,130,246,.8))}50%{filter:drop-shadow(0 0 30px rgba(59,130,246,1))}}.tree-link{transition:all .3s cubic-bezier(.4,0,.2,1);stroke:#94a3b8;stroke-width:2.5;fill:none;opacity:.7}.tree-link:hover{stroke:#3b82f6;stroke-width:3;opacity:1;filter:drop-shadow(0 2px 4px rgba(59,130,246,.3))}.tree-node text{font-family:Inter,-apple-system,sans-serif;font-weight:600;letter-spacing:-.025em;transition:all .3s ease}.tree-node:hover text{font-weight:700}.timeline-axis path,.timeline-axis line{stroke:#e5e7eb;stroke-width:2}.timeline-axis text{fill:#6b7280;font-size:12px;font-weight:500;font-family:Inter,sans-serif}.timeline-point{transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer}.timeline-point:hover{transform:scale(1.15)}.timeline-point circle{stroke:#fff;stroke-width:3;filter:drop-shadow(0 2px 8px rgba(0,0,0,.15));transition:all .3s ease}.timeline-point:hover circle{filter:drop-shadow(0 4px 12px rgba(0,0,0,.25))}.timeline-point text{font-family:Inter,sans-serif;font-weight:600;font-size:11px}.timeline-connector{stroke:#e5e7eb;stroke-width:1;stroke-dasharray:4,4;opacity:.6}.grid-card{transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer}.grid-card:hover{transform:translateY(-8px)}.grid-card rect{transition:all .3s cubic-bezier(.4,0,.2,1);filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}.grid-card:hover rect{stroke:#3b82f6;stroke-width:2;filter:drop-shadow(0 8px 16px rgba(0,0,0,.15))}.grid-card circle{filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}.grid-card text{font-family:Inter,sans-serif}@keyframes nodeAppear{0%{opacity:0;transform:scale(0) translateY(-20px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes linkAppear{0%{opacity:0;stroke-dasharray:1000;stroke-dashoffset:1000}to{opacity:1;stroke-dashoffset:0}}.tree-node{animation:nodeAppear .6s cubic-bezier(.34,1.56,.64,1)}.tree-link{animation:linkAppear .8s ease-out}.timeline-point{animation:nodeAppear .5s cubic-bezier(.34,1.56,.64,1)}.grid-card{animation:nodeAppear .4s cubic-bezier(.34,1.56,.64,1)}.tree-node:nth-child(1){animation-delay:.05s}.tree-node:nth-child(2){animation-delay:.1s}.tree-node:nth-child(3){animation-delay:.15s}.tree-node:nth-child(4){animation-delay:.2s}.tree-node:nth-child(5){animation-delay:.25s}.connection-line{stroke:#d1d5db;stroke-width:2;fill:none;transition:all .3s cubic-bezier(.4,0,.2,1)}.connection-line:hover{stroke:#3b82f6;stroke-width:3}.marriage-line{stroke:#f43f5e;stroke-width:3;stroke-dasharray:8,4;filter:drop-shadow(0 2px 4px rgba(244,63,94,.3))}.parent-child-line{stroke:#3b82f6;stroke-width:2}.sibling-line{stroke:#10b981;stroke-width:2;stroke-dasharray:4,4}.node-badge{font-size:10px;fill:#fff;font-weight:700;font-family:Inter,sans-serif}.badge-circle{fill:#ef4444;stroke:#fff;stroke-width:2;filter:drop-shadow(0 2px 4px rgba(0,0,0,.2))}.generation-line{stroke:#e5e7eb;stroke-width:1;stroke-dasharray:4,4;opacity:.4}.generation-label{fill:#9ca3af;font-size:11px;font-weight:600;font-family:Inter,sans-serif;text-transform:uppercase;letter-spacing:.05em}.generation-group{opacity:0;animation:fadeIn .6s ease-out forwards}@keyframes fadeIn{to{opacity:1}}.node-male circle{fill:url(#maleGradient)}.node-female circle{fill:url(#femaleGradient)}.node-other circle{fill:url(#otherGradient)}#maleGradient stop:first-child{stop-color:#3b82f6}#maleGradient stop:last-child{stop-color:#2563eb}#femaleGradient stop:first-child{stop-color:#ec4899}#femaleGradient stop:last-child{stop-color:#db2777}#otherGradient stop:first-child{stop-color:#8b5cf6}#otherGradient stop:last-child{stop-color:#7c3aed}.node-alive circle{stroke:#10b981;stroke-width:3}.node-deceased circle{stroke:#6b7280;stroke-width:3;opacity:.75;filter:grayscale(20%)}.node-deceased text{opacity:.8}.node-clickable{cursor:pointer}.node-clickable:hover{filter:brightness(1.1)}.node-clickable:active{transform:scale(.95)}.search-highlight{stroke:#fbbf24;stroke-width:4;fill:none;animation:pulse-search 1.5s ease-in-out infinite}@keyframes pulse-search{0%,to{opacity:1;stroke-width:4}50%{opacity:.6;stroke-width:6}}.minimap{position:absolute;bottom:24px;left:24px;width:220px;height:160px;background:#fff;border:2px solid #e5e7eb;border-radius:12px;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;overflow:hidden;z-index:40}.minimap-viewport{fill:#3b82f626;stroke:#3b82f6;stroke-width:2;cursor:move;transition:fill .2s ease}.minimap-viewport:hover{fill:#3b82f640}.minimap-content{transform-origin:center}.zoom-controls{position:absolute;bottom:24px;right:24px;display:flex;flex-direction:column;gap:8px;background:#fff;padding:8px;border-radius:12px;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;border:1px solid #e5e7eb;z-index:40}.zoom-controls button{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:#fff;border:1px solid #e5e7eb;border-radius:8px;cursor:pointer;transition:all .2s ease}.zoom-controls button:hover{background:#f9fafb;border-color:#3b82f6;color:#3b82f6}.zoom-controls button:active{transform:scale(.95)}.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:#9ca3af;padding:48px;text-align:center}.empty-state-icon{font-size:64px;margin-bottom:24px;opacity:.4;animation:float 3s ease-in-out infinite}@keyframes float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.empty-state-title{font-size:1.5rem;font-weight:700;color:#374151;margin-bottom:8px;font-family:Inter,sans-serif}.empty-state-description{font-size:1rem;color:#6b7280;margin-bottom:32px;max-width:400px;line-height:1.6}.empty-state-action{padding:12px 24px;background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;border:none;border-radius:8px;font-size:.875rem;font-weight:600;font-family:Inter,sans-serif;cursor:pointer;box-shadow:0 4px 6px -1px #0000001a;transition:all .3s ease}.empty-state-action:hover{transform:translateY(-2px);box-shadow:0 10px 15px -3px #00000026}.tree-loading{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;gap:16px}.tree-loading-spinner{width:48px;height:48px;border:4px solid #e5e7eb;border-top-color:#3b82f6;border-radius:50%;animation:spin 1s linear infinite}.tree-loading-text{font-size:.875rem;font-weight:500;color:#6b7280;font-family:Inter,sans-serif}@media (max-width: 1024px){.minimap{width:180px;height:130px;bottom:16px;left:16px}.zoom-controls{bottom:16px;right:16px}}@media (max-width: 768px){.minimap{display:none}.tree-node text{font-size:10px}.tree-node rect{stroke-width:2}.generation-label{font-size:9px}.tree-container{touch-action:pan-x pan-y pinch-zoom}#familyTree{overflow:visible}.tree-node{cursor:pointer;-webkit-tap-highlight-color:transparent}.tree-node rect{pointer-events:all}.tree-node circle{r:8}}@media (max-width: 480px){.tree-node text{font-size:9px}.tree-link{stroke-width:1.5}}@media print{.zoom-controls,.minimap{display:none!important}.tree-container{overflow:visible!important}#familyTree{max-width:100%!important;height:auto!important}.tree-node,.tree-link{animation:none!important}.tree-link{stroke:#000!important}.tree-node text{fill:#000!important}}.add-member-btn{transition:all .2s ease}.add-member-btn:hover{transform:scale(1.15);filter:brightness(1.1) drop-shadow(0px 3px 6px rgba(0,0,0,.25))!important}.add-member-btn:active{transform:scale(.95)}.tree-node.current-user rect{stroke:#10b981;stroke-width:4}.tree-node:focus,.timeline-point:focus,.grid-card:focus{outline:3px solid #3b82f6;outline-offset:4px}.tree-node:focus:not(:focus-visible),.timeline-point:focus:not(:focus-visible),.grid-card:focus:not(:focus-visible){outline:none}@media (prefers-contrast: high){.tree-link{stroke:#000;stroke-width:3}.tree-node circle{stroke:#000;stroke-width:3}.tree-node text{fill:#000;font-weight:700}}@media (prefers-reduced-motion: reduce){.tree-node,.tree-link,.timeline-point,.grid-card{animation:none!important;transition:none!important}.tree-node:hover,.grid-card:hover{transform:none!important}}.modal{position:fixed;top:0;left:0;right:0;bottom:0;background:#111827b3;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;justify-content:center;align-items:center;z-index:10000;opacity:0;visibility:hidden;transition:all .3s cubic-bezier(.4,0,.2,1)}.modal.active{opacity:1;visibility:visible}.modal-content{background:#fff;border-radius:16px;width:90%;max-width:900px;max-height:90vh;display:flex;flex-direction:column;box-shadow:0 25px 50px -12px #00000040;transform:scale(.9) translateY(20px);transition:transform .3s cubic-bezier(.34,1.56,.64,1)}.modal.active .modal-content{transform:scale(1) translateY(0)}.modal-header{display:flex;justify-content:space-between;align-items:center;padding:24px 32px;border-bottom:1px solid #e5e7eb;background:linear-gradient(135deg,#f9fafb,#fff);border-radius:16px 16px 0 0}.modal-header h2{margin:0;font-size:1.5rem;font-weight:700;color:#111827;font-family:Inter,sans-serif;letter-spacing:-.025em}.modal-close{background:#f3f4f6;border:none;width:40px;height:40px;border-radius:10px;font-size:1.5rem;color:#6b7280;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;font-weight:300}.modal-close:hover{background:#fee2e2;color:#ef4444;transform:rotate(90deg)}.modal-close:active{transform:rotate(90deg) scale(.95)}.modal-body{padding:32px;overflow-y:auto;flex:1}.modal-body::-webkit-scrollbar{width:8px}.modal-body::-webkit-scrollbar-track{background:#f3f4f6;border-radius:10px}.modal-body::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:10px}.modal-body::-webkit-scrollbar-thumb:hover{background:#9ca3af}.modal-footer{display:flex;justify-content:space-between;align-items:center;gap:12px;padding:20px 32px;border-top:1px solid #e5e7eb;background:#f9fafb;border-radius:0 0 16px 16px}.modal-footer-left,.modal-footer-right{display:flex;gap:12px}.member-form{display:flex;flex-direction:column;gap:24px}.form-row{display:grid;grid-template-columns:1fr 1fr;gap:20px}.form-group{display:flex;flex-direction:column;gap:8px}.form-group label{font-size:.875rem;font-weight:600;color:#374151;font-family:Inter,sans-serif}.form-group input[type=text],.form-group input[type=email],.form-group input[type=tel],.form-group input[type=date],.form-group select,.form-group textarea{padding:12px 16px;border:2px solid #e5e7eb;border-radius:10px;font-size:.875rem;font-family:Inter,sans-serif;background:#fff;color:#111827;transition:all .2s ease}.form-group input:hover,.form-group select:hover,.form-group textarea:hover{border-color:#d1d5db}.form-group input:focus,.form-group select:focus,.form-group textarea:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 4px #3b82f61a}.form-group input::placeholder,.form-group textarea::placeholder{color:#9ca3af}.form-group textarea{resize:vertical;min-height:100px;line-height:1.6}.form-group select{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M6 8l4 4 4-4'/%3E%3C/svg%3E");background-position:right 12px center;background-repeat:no-repeat;background-size:20px;padding-right:40px}.form-group input[type=checkbox]{width:20px;height:20px;cursor:pointer;accent-color:#3b82f6}.form-group label:has(input[type=checkbox]){flex-direction:row;align-items:center;gap:10px;cursor:pointer;font-weight:500}.form-section-title{font-size:1.125rem;font-weight:700;color:#1e40af;margin-top:16px;padding-bottom:12px;border-bottom:2px solid #3b82f6;font-family:Inter,sans-serif;letter-spacing:-.025em;position:relative}.form-section-title:before{content:"";position:absolute;bottom:-2px;left:0;width:60px;height:2px;background:linear-gradient(90deg,#3b82f6,#2563eb)}.photo-upload-section{background:#f9fafb;padding:20px;border-radius:12px;border:2px dashed #d1d5db}.photo-upload-container{display:flex;align-items:center;gap:20px}.photo-preview{width:120px;height:120px;border-radius:12px;overflow:hidden;background:#fff;border:2px solid #e5e7eb;display:flex;align-items:center;justify-content:center;flex-shrink:0}.photo-preview .preview-image{width:100%;height:100%;object-fit:cover}.photo-placeholder{font-size:2rem;color:#9ca3af;text-align:center;line-height:1.4}.photo-upload-controls{display:flex;flex-direction:column;gap:10px}.file-input{display:none}.btn-small{padding:8px 16px;font-size:.875rem;min-width:auto}.form-group input[type=number]{padding:12px 16px;border:2px solid #e5e7eb;border-radius:10px;font-size:.875rem;font-family:Inter,sans-serif;background:#fff;color:#111827;transition:all .2s ease}.form-group input[type=number]:hover{border-color:#d1d5db}.form-group input[type=number]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 4px #3b82f61a}.form-group input:invalid:not(:focus):not(:placeholder-shown),.form-group select:invalid:not(:focus),.form-group textarea:invalid:not(:focus):not(:placeholder-shown){border-color:#ef4444}.form-group input:valid:not(:focus):not(:placeholder-shown),.form-group select:valid:not(:focus),.form-group textarea:valid:not(:focus):not(:placeholder-shown){border-color:#10b981}.error-message{color:#ef4444;font-size:.8125rem;font-weight:500;margin-top:4px;display:flex;align-items:center;gap:6px}.error-message:before{content:"⚠";font-size:1rem}.success-message{color:#10b981;font-size:.8125rem;font-weight:500;margin-top:4px;display:flex;align-items:center;gap:6px}.success-message:before{content:"✓";font-size:1rem}.form-group label:has(+input[required]):after,.form-group label:has(+select[required]):after,.form-group label:has(+textarea[required]):after{content:" *";color:#ef4444;font-weight:700}.modal-footer .btn{min-width:120px;padding:12px 24px;font-weight:600}.modal-footer .btn-primary{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;border:none;box-shadow:0 4px 6px -1px #0000001a}.modal-footer .btn-primary:hover{background:linear-gradient(135deg,#2563eb,#1d4ed8);box-shadow:0 10px 15px -3px #00000026;transform:translateY(-2px)}.modal-footer .btn-primary:active{transform:translateY(0)}.modal-footer .btn-secondary{background:#fff;color:#374151;border:2px solid #e5e7eb}.modal-footer .btn-secondary:hover{background:#f9fafb;border-color:#d1d5db}.modal-footer .btn-danger{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;border:none;box-shadow:0 4px 6px -1px #0000001a}.modal-footer .btn-danger:hover{background:linear-gradient(135deg,#dc2626,#b91c1c);box-shadow:0 10px 15px -3px #00000026;transform:translateY(-2px)}.modal-footer .btn-danger:active{transform:translateY(0)}.modal-loading{position:absolute;top:0;left:0;right:0;bottom:0;background:#fffffff2;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;flex-direction:column;justify-content:center;align-items:center;gap:16px;border-radius:16px;z-index:10}.modal-loading-spinner{width:48px;height:48px;border:4px solid #e5e7eb;border-top-color:#3b82f6;border-radius:50%;animation:spin 1s linear infinite}.modal-loading-text{font-size:.875rem;font-weight:600;color:#6b7280;font-family:Inter,sans-serif}.form-group{animation:fadeInUp .4s ease}@keyframes fadeInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.form-row:nth-child(1) .form-group{animation-delay:.05s}.form-row:nth-child(2) .form-group{animation-delay:.1s}.form-row:nth-child(3) .form-group{animation-delay:.15s}.form-row:nth-child(4) .form-group{animation-delay:.2s}.form-row:nth-child(5) .form-group{animation-delay:.25s}.form-group{position:relative}.form-group input:focus+.input-helper,.form-group select:focus+.input-helper,.form-group textarea:focus+.input-helper{opacity:1;transform:translateY(0)}.input-helper{font-size:.75rem;color:#6b7280;margin-top:4px;opacity:0;transform:translateY(-4px);transition:all .2s ease}@media (max-width: 1024px){.modal-content{max-width:95%}.modal-header,.modal-body,.modal-footer{padding:20px 24px}}@media (max-width: 768px){.modal-content{width:95%;max-height:95vh;border-radius:12px}.modal-header,.modal-body,.modal-footer{padding:16px 20px}.modal-header h2{font-size:1.25rem}.form-row{grid-template-columns:1fr;gap:16px}.modal-footer{flex-direction:column-reverse}.modal-footer .btn{width:100%;min-width:auto}}@media (max-width: 480px){.modal-content{width:100%;height:100%;max-height:100vh;border-radius:0}.modal-header,.modal-footer{border-radius:0}}.modal-close:focus-visible{outline:3px solid #3b82f6;outline-offset:2px}.form-group input:focus-visible,.form-group select:focus-visible,.form-group textarea:focus-visible{outline:3px solid #3b82f6;outline-offset:2px}@media (prefers-color-scheme: dark){.modal{background:#000c}.modal-content{background:#1f2937}.modal-header{background:linear-gradient(135deg,#111827,#1f2937);border-bottom-color:#374151}.modal-header h2{color:#f9fafb}.modal-close{background:#374151;color:#d1d5db}.modal-close:hover{background:#7f1d1d;color:#fca5a5}.modal-body{background:#1f2937}.modal-footer{background:#111827;border-top-color:#374151}.form-group label{color:#e5e7eb}.form-group input,.form-group select,.form-group textarea{background:#374151;border-color:#4b5563;color:#f9fafb}.form-group input:hover,.form-group select:hover,.form-group textarea:hover{border-color:#6b7280}.form-group input:focus,.form-group select:focus,.form-group textarea:focus{border-color:#60a5fa;box-shadow:0 0 0 4px #60a5fa33}.form-section-title{color:#93c5fd;border-bottom-color:#60a5fa}.form-section-title:before{background:linear-gradient(90deg,#60a5fa,#3b82f6)}}@media print{.modal{position:static;background:#fff}.modal-content{box-shadow:none;max-height:none}.modal-footer,.modal-close{display:none!important}}@media (prefers-reduced-motion: reduce){.modal,.modal-content,.form-group,.modal-close{animation:none!important;transition:none!important}.modal-close:hover{transform:none!important}}.relationship-prompt{text-align:center;font-size:1rem;color:#6b7280;margin-bottom:24px}.relationship-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}.relationship-btn{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:16px 12px;border:2px solid #e5e7eb;border-radius:12px;background:#fff;cursor:pointer;transition:all .2s ease;min-height:90px}.relationship-btn:hover{border-color:#3b82f6;background:#f0f7ff;transform:translateY(-2px);box-shadow:0 4px 12px #3b82f626}.relationship-btn:active{transform:translateY(0)}.relationship-icon{font-size:28px;margin-bottom:8px}.relationship-label{font-size:.875rem;font-weight:600;color:#374151}.relationship-btn-other{grid-column:span 3;flex-direction:row;gap:8px;min-height:auto;padding:12px 16px;background:#f9fafb}.relationship-btn-other .relationship-icon{font-size:20px;margin-bottom:0}@media (max-width: 480px){.relationship-grid{grid-template-columns:repeat(2,1fr)}.relationship-btn-other{grid-column:span 2}}
